<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine? üíò</title>

  <style>
    :root{
      --pink-1:#ffe5ef;
      --pink-2:#ffd1e1;
      --red-1:#ff4d6d;
      --red-2:#e73657;
      --ink:#2a1d2a;
      --muted:#6b4a6b;
      --card:#ffffffcc;
      --shadow: 0 18px 60px rgba(36,12,36,.20);
      --yes:#2ee59d;
      --yes2:#18c985;
      --no:#ff6b86;
      --no2:#ff4d6d;
      --btnText:#1c0d1c;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: ui-rounded, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 500px at 10% 10%, rgba(255,77,109,.25), transparent 60%),
        radial-gradient(900px 500px at 90% 30%, rgba(255,183,208,.8), transparent 60%),
        linear-gradient(180deg, var(--pink-1), var(--pink-2));
    }

    .card{
      width:min(860px,92vw);
      background:var(--card);
      border-radius:26px;
      padding:20px;
      box-shadow:var(--shadow);
      border:2px solid rgba(255,77,109,.18);
    }

    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:10px;
    }

    .tag{
      padding:8px 12px;
      border-radius:999px;
      border:2px dashed rgba(255,77,109,.35);
      font-weight:800;
      font-size:13px;
      background:#fff8fc;
      color:var(--muted);
    }

    h1{
      text-align:center;
      margin:8px 0 6px;
      font-size:clamp(28px,5vw,44px);
      color:var(--ink);
    }

    .subtitle{
      text-align:center;
      margin-bottom:14px;
      font-weight:700;
      color:var(--muted);
    }

    .gif{
      padding:14px;
      background:#fff8fc;
      border-radius:22px;
      border:2px solid rgba(255,77,109,.18);
      box-shadow:0 18px 50px rgba(255,77,109,.12);
    }

    /* üî• AJUSTE CLAVE: GIF COMPLETO */
    .gif img{
      width:100%;
      height:auto;
      max-height:360px;
      object-fit:contain;
      display:block;
      margin:auto;
      background:transparent;
    }

    .note{
      text-align:center;
      font-size:13.5px;
      margin-top:8px;
      color:var(--muted);
      font-weight:700;
    }

    .arena{
      margin-top:16px;
      position:relative;
      min-height:140px;
      display:grid;
      place-items:center;
    }

    .controls{
      display:flex;
      gap:14px;
      position:relative;
    }

    .arrow{
      position:absolute;
      left:-10px;
      top:-34px;
      font-weight:900;
      color:#e73657;
      font-size:14px;
    }

    button{
      padding:12px 18px;
      border-radius:16px;
      border:none;
      font-weight:900;
      cursor:pointer;
      min-width:150px;
      font-size:16px;
      box-shadow:0 14px 40px rgba(0,0,0,.12);
    }

    #yesBtn{
      background:linear-gradient(180deg,var(--yes),var(--yes2));
      color:var(--btnText);
      border:2px dashed rgba(0,0,0,.15);
    }

    #noBtn{
      background:linear-gradient(180deg,var(--no),var(--no2));
      color:#2a0c16;
      border:2px dashed rgba(0,0,0,.12);
      position:absolute;
      left:65%;
      top:55%;
      transform:translate(-50%,-50%);
    }

    .triesline{
      text-align:center;
      margin-top:10px;
      font-size:13.5px;
      font-weight:800;
      color:var(--muted);
    }

    .modal{
      position:fixed;
      inset:0;
      background:rgba(20,5,14,.45);
      display:none;
      place-items:center;
      z-index:10;
    }

    .modal.show{display:grid}

    .modal .box{
      background:linear-gradient(180deg,#ff4d6d,#d81e46);
      padding:18px;
      border-radius:22px;
      width:min(560px,94vw);
      color:#fff;
      text-align:center;
      box-shadow:0 22px 80px rgba(0,0,0,.35);
    }

    .modal a,.modal button{
      margin-top:10px;
      padding:12px 14px;
      border-radius:14px;
      font-weight:900;
      border:none;
      cursor:pointer;
      min-width:160px;
    }

    .share{
      background:#fff;
      color:#2a0614;
    }

    .close{
      background:rgba(255,255,255,.18);
      color:#fff;
    }

    .confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
    }

    .confetti i{
      position:absolute;
      top:-10px;
      width:10px;
      height:14px;
      border-radius:4px;
      animation:fall linear forwards;
    }

    @keyframes fall{
      to{transform:translateY(110vh) rotate(720deg)}
    }
  </style>
</head>

<body>
  <section class="card">
    <div class="topbar">
      <span class="tag">üíå Valentine Mode: <b>ON</b></span>
      <span>üíó üíò üíû</span>
    </div>

    <h1>Will you be my Valentine? üíò</h1>
    <p class="subtitle" id="subtitle">Di que no pa que tu vea‚Ä¶ El "no" esta da√±ado."</p>

    <div class="gif">
      <img src="https://media3.giphy.com/media/v1.Y2lkPTZjMDliOTUyeHlrMmUweGo1ajV2cDgzdGNxYWV2Z2w1a2M5aGN3bjNqcG5haDl6bSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/vDhDcIEmShbUI/giphy.gif" alt="gif">
    </div>

    <p class="note">No sea paloma, piensa bien pa que no tengamos problemas (es amenaza)</p>

    <div class="arena" id="arena">
      <div class="controls">
        <div class="arrow">‚Ü∂ dale aqu√≠ üò≠</div>
        <button id="yesBtn">S√≠ üíñ</button>
        <button id="noBtn">No üòê</button>
      </div>
    </div>

    <p class="triesline">
      Intentos de ‚ÄúNo‚Äù: <b id="tries">0</b> ¬∑
      <span id="hint">Dale a ‚ÄúS√≠‚Äù y deja el coro üò≠</span>
    </p>
  </section>

  <div class="modal" id="modal">
    <div class="box">
      <h2>VAAAAAAAAMOOOOOOOOOOOOOOOOOOOOOOOOO ü•≥üíò</h2>
      <p>Ya somos oficialmente San Valent√≠n. (No acepto devoluciones üòå)</p>
      <a class="share" id="shareLink" target="_blank">üì© Compartir</a><br>
      <button class="close" id="closeModal">Cerrar</button>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    const yesBtn=document.getElementById("yesBtn");
    const noBtn=document.getElementById("noBtn");
    const arena=document.getElementById("arena");
    const subtitle=document.getElementById("subtitle");
    const triesEl=document.getElementById("tries");
    const hint=document.getElementById("hint");
    const modal=document.getElementById("modal");
    const closeModal=document.getElementById("closeModal");
    const shareLink=document.getElementById("shareLink");

    let tries=0;
    const phrases=[
      "¬øSegura? -.-",
      "Pi√©nsalo otra vez‚Ä¶ üò≠",
      "Ese ‚ÄúNo‚Äù se ve sospechoso",
      "El bot√≥n ‚ÄúS√≠‚Äù se siente solo üíî",
      "Dale a ‚ÄúS√≠‚Äù y te compro un helado",
      "Mana ya‚Ä¶ se acab√≥ el coro. DALE S√ç CO√ëO -.-"
    ];

    function clamp(n,min,max){return Math.max(min,Math.min(max,n))}

    function moveNo(){
      tries++;
      triesEl.textContent=tries;
      subtitle.textContent=phrases[Math.min(tries-1,phrases.length-1)];

      const rect=arena.getBoundingClientRect();
      const btn=noBtn.getBoundingClientRect();
      const x=Math.random()*(rect.width-btn.width);
      const y=Math.random()*(rect.height-btn.height);
      noBtn.style.left=x+btn.width/2+"px";
      noBtn.style.top=y+btn.height/2+"px";

      yesBtn.style.transform=`scale(${clamp(1+tries*0.07,1,1.55)})`;
      noBtn.style.transform=`translate(-50%,-50%) scale(${clamp(1-tries*0.06,.55,1)})`;

      hint.textContent=tries>=4
        ?"compai‚Ä¶ el universo quiere que sea S√ç"
        :"Intenta otra vez paloma (si puedes)";
    }

    function confetti(){
      const h=document.getElementById("confetti");
      h.innerHTML="";
      for(let i=0;i<90;i++){
        const c=document.createElement("i");
        c.style.left=Math.random()*100+"vw";
        c.style.width=6+Math.random()*10+"px";
        c.style.height=8+Math.random()*14+"px";
        c.style.background=`hsl(${Math.random()*360} 90% 60%)`;
        c.style.animationDuration=1.8+Math.random()*1.6+"s";
        h.appendChild(c);
      }
      setTimeout(()=>h.innerHTML="",3500);
    }

    yesBtn.onclick=()=>{
      const url=location.href;
      shareLink.href=`https://wa.me/?text=${encodeURIComponent("Mira esto üò≠üíò\n"+url)}`;
      modal.classList.add("show");
      confetti();
    };

    closeModal.onclick=()=>modal.classList.remove("show");
    modal.onclick=e=>e.target===modal&&modal.classList.remove("show");

    noBtn.onmouseenter=moveNo;
    noBtn.onclick=e=>{e.preventDefault();moveNo();}
    noBtn.ontouchstart=e=>{e.preventDefault();moveNo();}
  </script>
</body>
</html>
